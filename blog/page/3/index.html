
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>DataChomp</title>
  <meta name="author" content="Rob Sullivan">

  
  <meta name="description" content="If you are not a fan of Sysinternals tools then you clearly do not have your geek merit badge. While I have always kept a local copy in the past, &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://datachomp.github.com/blog/page/3">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="DataChomp" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1806527-13']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">DataChomp</a></h1>
  
    <h2>Chomping At The Bits</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:datachomp.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/archives/">Archives</a></li>
  <li><a href="/books">Books</a></li>
  <li><a href="/speaking">Speaking/Travel</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/archives/rock-out-with-your-procmon-out/">Rock Out With Your Procmon Out</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-07-26T00:00:00-05:00" pubdate data-updated="true">Jul 26<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>If you are not a fan of Sysinternals tools then you clearly do not have your geek merit badge. While I have always kept a local copy in the past, there is now a cool and easy way to get to Sysinternals and it is via<br/>
Start run live.sysinternals.comtools</p>

<p>If you are already a gigantic nerd like me and have various login scripts that run, it is way easy to simply map that share by throwing the following into your login scripts:</p>

<p>net use s: live.sysinternals.comtools</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/archives/osx-tools-i-use/">OSX Tools I Use</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-07-21T00:00:00-05:00" pubdate data-updated="true">Jul 21<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p><strong>Misc:</strong><br/>
<a href="http://www.clamxav.com/">ClamXav</a> - antivirus<br/>
<a href="http://www.evernote.com/">Evernote</a> - for note taking<br/>
<a href="http://handbrake.fr/">Handbrake</a> - for media conversion<br/>
<a href="http://www.libreoffice.org/download/">LibreOffice</a> - for working on office docs&#8230; though starting to use Keynote for presentations<br/>
<a href="http://www.titanium.free.fr/">Onyx</a> - mac maintenance app<br/>
<a href="http://www.videolan.org/vlc/">VLC</a> - for watching media on the mac<br/>
<a href="http://www.transmissionbt.com/" title="Transmission">Transmission</a> - for bittorrent</p>

<p><strong>Internet:</strong><br/>
<a href="http://adium.im/">Adium</a> - for XMPP and stuff<br/>
<a href="http://colloquy.info/">Colloquy</a> - for IRC<br/>
<a href="http://cyberduck.ch/">CyberDuck</a> - for FTPness<br/>
<a href="http://www.mozilla.com/en-US/firefox/fx/">Firefox</a> - for browsing<br/>
<a href="http://www.opera.com/">Opera</a> - for fast browsing<br/>
Skype<br/>
- <a href="http://www.ecamm.com/mac/callrecorder/">Call Recorder</a> - for recording Skype calls</p>

<p><strong>Dev:</strong><br/>
<a href="http://www.mono-project.com/Main_Page">Mono</a> - because I&#8217;m a C# hack<br/>
<a href="http://www.jetbrains.com/ruby/">RubyMine</a> - to help me feel less bad at Ruby<br/>
<a href="http://macromates.com/">TextMate</a> - Editing things<br/>
<a href="http://www.vmware.com/products/fusion/overview.html">VMWare Fusion</a> to virtualize things</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/archives/why-red-gate-and-i-are-friends-with-benefits/">Why Red Gate and I Are Friends With Benefits</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-06-29T00:00:00-05:00" pubdate data-updated="true">Jun 29<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>What a great link bait title right? The purpose of this post is to give my reasoning for joining the<a href="http://www.red-gate.com/our-company/about/community-relations/friends-of-rg"> Friends of Red Gate</a> program. So without further ado:</p>

<p><strong>Education -</strong> I simply love software development with all my heart. Much of this love is channeled towards learning. In the SQL Server arena there are a couple resources that just stand out above the others&#8230; I&#8217;m talking about <a href="http://www.sqlservercentral.com/">SQL Server Central</a>, <a href="http://www.simple-talk.com/">Simple-Talk</a>, the wealth of information that Brad McGehee(<a href="http://www.bradmcgehee.com/">blog </a>| <a href="https://twitter.com/#!/bradmcgehee">twitter</a>) puts out, Grant Fritchney(<a href="http://www.scarydba.com/">blog </a>| <a href="https://twitter.com/#!/GFritchey">twitter</a>), and the <a href="http://www.red-gate.com/our-company/about/book-store/">various books</a>. It became quite apparent that a lot of what has made me such a successful DBA is because Red Gate shares that same passion for building great software.</p>

<p><strong>Community -</strong> Another manifestation of this love shows itself in community events. Whenever I put on an event or attend one, there is one company I know of that consistently steps up to the plate. Red Gate. Even during slower economic times, when some sponsors required coaxing and justification, when it came to community, Red Gate was always on board. While they are a company and these events are advertising or promotional opportunities, that aspect of it never comes on. No matter how big or how small the event, I always feel like they genuinely want all of us to learn and be better at our craft. I have a tremendous amount of respect for that company on this alone.</p>

<p><strong>Tools -</strong> When I first downloaded and installed the beta of <a href="http://www.red-gate.com/products/sql-development/sql-source-control/">SQL Source Control</a>, my knees became weak. In the chaotic world of database change management and DDL triggers, this tool absolutely blew my mind. When I started playing with this tool, it was like I had just won a lifetime supply of pizza and cupcakes. Everyone has schema/data compare tools or backup tools, but a native source control tool? Way to step up to the plate Red Gate. I wanted to email customer support and ask for SQL Source Controls ring size because I was hooked. We use TFS at work, but on the side I use a combination of Subversion and GIT&#8230; SQL Source control doesn&#8217;t even care - it just does its job. The quality, ease of use, and the need that tool fills made me think that Red Gate loves software development just as much as I do.</p>

<p>I am not a salesman and I don&#8217;t try to be. I&#8217;m not trying to sell you Red Gate tools. All I can do is tell you how they have worked for me and let you make the best decision for your situation. One message I do hope I convey is that the next time you are at an event that Red Gate sponsors or take advantage of any of their various learning resources, take a moment to thank them. They do a lot of things in front of and behind the scenes to help all of us reach success without any of us being forced to buy their tools and I find that amount of passion in a company both admirable and rare.</p>

<p><img src="http://www.red-gate.com/assets/images/logos/friends-of-rg-logo.png" alt="Friends of Red Gate" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/archives/tekpub-full-throttle-with-rob-sullivan-show-notes/">Tekpub &#8211; Full Throttle With Rob Sullivan Show Notes</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-06-04T00:00:00-05:00" pubdate data-updated="true">Jun 4<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>The question emails are starting to pile in (which is a good thing!) so this post is basically a way to centralize links/answers. In the show, I say a few times &#8220;we&#8217;ll see this later&#8221; (like with SQL Server Profiler) and we never see it&#8230; that was mostly my fault. For some reason I kept thinking I would be able to squeeze 5 hours of content into 1 hour and was wrong. If there are aspects of SQL Server that you would like to see more of, as well as real world problems that you may have and would like to see solutions to, then let <a href="http://help.tekpub.com/">Tekpub know</a>. We&#8217;ll see if we can hack out real world solutions wrapped in a warm blanket of statistics and opinion.</p>

<p><strong>Questions:</strong>*<br/>
<strong>How do you get the stats to appear in the &#8220;messages&#8221; window?</strong><br/>
Those stats come from the following commands:<br/>
SET STATISTICS IO ON;<br/>
SET STATISTICS TIME ON;<br/>
If you don&#8217;t want to turn it on for every query/window, you can do what I do and set them to always be on in Management studio, you can do this by :<br/>
Tools -> Options -> Query Execution -> SQL Server -> Advanced<br/>
then check:<br/>
SET STATISTICS IO ON;<br/>
SET STATISTICS TIME ON;
<strong>Lock Pages in Memory, is that always good?</strong><br/>
No, and perhaps I glossed over that section too much or technology changes too fast. While Lock Pages in Memory can be a wonderful setting, there are of course times when it can be pretty bad. You can read more about that here: http://sqlserverperformance.wordpress.com/2011/02/14/sql-server-and-the-lock-pages-in-memory-right-in-windows-server/
<strong>Why no filtered index on Posts?</strong><br/>
In our first scenario, to get the front page up&#8230; we just went with the index that the engine suggested.. That got us up and running which is great, but there is room for improvement. To me, filtered indexes are more of a business rule decision and with enough time, if we saw that the load was heavy and predictable enough, we would have likely thrown a filtered index to satisfy the front page query.</p>

<p><strong>What were you using for &#8220;Intellisense&#8221; in management studio?</strong> I am not extremely big on intellisense in general, however, I am kind of big on formatting and having a variety of administrative snippets at my finger tips. I use a 3rd party tool called Red-Gate SQL Prompt and have it moderately customized. Keep in mind, I really only use this type of product on data sets I am not very familiar with like the one in this demo. On datasets that I know pretty well, I find intellisense to really just get in the way and make me angry.</p>

<p><strong>And the database?</strong> I am still working on a way to make the DB available. It is roughly 40GB raw, and 4GB compressed. If having the data is a big deal to you, hit me up on email and we can work something out (S3,FTP, yada yada yada)</p>

<p><strong>Tech used in the series:</strong><br/>
Visual Studio 2010 / MVC3 / EF 4.1<br/>
SQL Server 2008 R2 / Management Studio<br/>
<a href="http://www.red-gate.com/products/sql-development/sql-prompt/">Red Gate SQL Prompt</a> &#8220;Intellisense&#8221; and &#8220;snippets&#8221; in Management Studio<br/>
<a href="http://www.sqlsentry.com/plan-explorer/sql-server-query-view.asp">SQL Sentry Plan Explorer</a> The fun/effective way to view execution plans<br/>
<a href="http://efprof.com/">EF Profiler</a> The SQL Server friendly way to profile EF<br/>
<a href="http://www.cpuid.com/softwares/cpu-z.html">CPU-Z</a> A tried and true hardware enthusiasts way of checking hardware specs.</p>

<p><strong>Source code:</strong></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/archives/windows-server-core-basic-operations/">Windows Server Core &#8211; Basic Operations</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-04-25T00:00:00-05:00" pubdate data-updated="true">Apr 25<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>This post will basically be a collection of some of the crap I use while working on Windows Server 2008 R2 Core edition.</p>

<p><strong>Quick tool to handle basic configurations like computer name/updates/time:</strong><br/>
sconfig.cmd tool</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/archives/massive-and-using-multiple-args/">Massive and Using Multiple Args:</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-04-14T00:00:00-05:00" pubdate data-updated="true">Apr 14<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>So, in <a href="http://blog.wekeroad.com/helpy-stuff/and-i-shall-call-it-massive">Rob Conery&#8217;s example</a> of using multiple args in a query</p>

<pre><code>1.  &amp;nbsp;

2.  var tbl = [new][2] Products&amp;#40;&amp;#41;;

3.  var products = tbl.All&amp;#40;where: "CategoryID = @0 AND UnitPrice &gt; @1", orderBy: "ProductName", limit: 20, args: 5,20&amp;#41;;
</code></pre>

<p>It makes the args appear to be this completely bad ass and intelligent command that knows exactly when and where to parse/apply the values. Well, in the real world versions of Massive the compiler doesn&#8217;t take to kindly to that sort of syntax.</p>

<p>args: is a parameter of type object [] so the way I use multiple params is as follows:</p>

<pre><code>1.  &amp;nbsp;

2.  object&amp;#91;&amp;#93; queryargs = &amp;#123;"Okapi", "online"&amp;#125;;

3.  var DBBasics = table.All&amp;#40;where: "WHERE ServerName=@0 and status = @1", args: queryargs &amp;#41;;

4.  &amp;nbsp;
</code></pre>

<p>and low and behold the magic happens.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/archives/default-backups-to-compressed-in-sql-server/">Default Backup Compression in SQL Server</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-04-07T00:00:00-05:00" pubdate data-updated="true">Apr 7<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>I always forget this so it is going in a blog for quick reference:</p>

<pre><code>1.  &amp;nbsp;

2.  SP_CONFIGURE 'show advanced options',1

3.  RECONFIGURE WITH override

4.  GO

5.  SP_CONFIGURE 'backup compression default',1

6.  RECONFIGURE WITH override

7.  GO

8.  &amp;nbsp;
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/archives/getting-started-with-massive-in-mvc3-part-2/">Getting Started With Massive in MVC3 &#8211; Part 2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-19T00:00:00-06:00" pubdate data-updated="true">Feb 19<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>If you read over my first post on this you probably have some questions going through your mind&#8230;. I know I did&#8230; So lets ask them:</p>

<p><strong>Rob, your queries make no sense to me because I have no idea about this &#8216;drinks&#8217; table you&#8217;re hitting.</strong><br/>
I agree. When I start to play with something I tend to use very simple databases that I know for simplicity. From here on, I&#8217;ll be using <a href="http://msftdbprodsamples.codeplex.com/releases/view/59211">Adventure Works 2008 R2</a></p>

<p><strong>All this stuff is dynamic and I don&#8217;t know how to deal with it.</strong> I&#8217;m just as strongly typed as the next guy so this was an emotional hurdle. But we&#8217;re not here for therapy so lets code using one of my favorite examples - Credit Cards!<br/>
Class:</p>

<pre><code>1.  public class CreditCard : DynamicModel

2.      &amp;#123;  public CreditCard&amp;#40;&amp;#41; : base&amp;#40;"AW_Sales_ConnStr"&amp;#41;

3.          &amp;#123; 

4.              PrimaryKeyField = "CreditCardID"; 

5.          &amp;#125;

6.      &amp;#125;
</code></pre>

<p>ViewModel:</p>

<pre><code>1.  public class CreditCardViewModel

2.      &amp;#123;public IEnumerable&amp;#123; get; set; &amp;#125; &amp;#125;
</code></pre>

<p>Controller:</p>

<pre><code>1.  public ActionResult Index&amp;#40;&amp;#41;

2.  &amp;#123;

3.        var table = [new][2] CreditCard&amp;#40;&amp;#41;;

4.        var cards = table.All&amp;#40;&amp;#41;;

5.  &amp;nbsp;

6.      var viewModel = [new][2] CreditCardViewModel

7.      &amp;#123;

8.            Cards = cards

9.           &amp;#125;;

10.     return View&amp;#40;viewModel&amp;#41;;

11. &amp;#125;
</code></pre>

<p>View:</p>

<pre><code>1.  @model Kona.Web.Models.CreditCardViewModel

2.  @&amp;#123;ViewBag.Title = "Adventure Works Card Stealer";&amp;#125;

3.  &amp;nbsp;

4.  

5.  @foreach &amp;#40;var item in Model.Cards&amp;#41;

6.  &amp;#123;

7.  

8.  

9.  @item.CardType

10. @item.CardNumber

11. @item.ExpMonth

12. @item.ExpYear

13. 

14. &amp;#125;

15. 

16. &amp;nbsp;

17. &amp;nbsp;
</code></pre>

<p>So 2 seconds after this works, I hope that you are feeling very uncomfortable about presenting Credit Card numbers or even pulling them. That is a good thing&#8230;. So since we have a special case where we care a whole bunch about not returning that data&#8230; lets change our controller:</p>

<pre><code>1.  var table = [new][2] CreditCard&amp;#40;&amp;#41;;

2.  //var cards = table.All();

3.  var cards = table.Query&amp;#40;@"SELECT CardType, ExpMonth ,ExpYear from CreditCard"&amp;#41;;
</code></pre>

<p>Sweet! it compiles, we&#8217;re ready to check in and go grab a beer right? Heh, nope&#8230;. refresh your app:<br/>
<em>&#8216;System.Dynamic.ExpandoObject&#8217; does not contain a definition for &#8216;CardNumber&#8217;</em></p>

<p>So we update our view&#8230;.</p>

<pre><code>1.  &amp;#123;

2.  &amp;nbsp;

3.  @item.CardType

4.  @item.ExpMonth

5.  @item.ExpYear

6.  &amp;nbsp;

7.  &amp;#125;
</code></pre>

<p>and all is well again.</p>

<p>Make no mistake about it&#8230; Massive will give you all the rope you want to easily swing around your apps data jungle&#8230; it will also give you all the rope you want to hang yourself if that is what you choose to do with it. Which is precisely why I like it. I feel like Entity Framework4 (<a href="http://thisdeveloperslife.com/post/1-0-8-motivation">And don&#8217;t get me wrong, I like EF4</a>) is a micromanaging boss that wants to check my every move. Massive is like the boss that gives me a task and trusts that I&#8217;ll get it done.</p>

<p>Welcome to dynamic!</p>

<p>One last bit because this is getting lengthy:<br/>
<strong>Credit cards in AdventureWorks 2008 R2 are locked into a Sales schema and I can&#8217;t figure out how make my class take &#8220;advantage&#8221; of that</strong><br/>
This is a fun thing we DBA&#8217;s like to do for the sole purpose of driving AppDev&#8217;s nuts (with just some oh so minor security and organizational reasoning behind it). In our Credit Card model we can update to specify the TableName. Also, I use a special connection string:</p>

<pre><code>1.  public CreditCard&amp;#40;&amp;#41; : base&amp;#40;"AW_Sales_ConnStr"&amp;#41;

2.          &amp;#123; 

3.              TableName = "[Sales].[CreditCard]";

4.              PrimaryKeyField = "CreditCardID"; 

5.          &amp;#125;
</code></pre>

<p>That setting in the base() maps to my web.config:</p>

<pre><code>1.  add name="AW_Sales_ConnStr" connectionString="Data Source=localhost;Initial Catalog=AdventureWorks2008R2;User ID=aw_Kona_Sales;Password=Sales_Password;Application Name=KonaSales;" providerName="System.Data.SqlClient"
</code></pre>

<p>and in SQL Server this maps to the Sales Schema (key part being the specification of a Default_Schema:</p>

<pre><code>1.  CREATE USER &amp;#91;aw_Kona_Sales&amp;#93; FOR LOGIN &amp;#91;aw_Kona_Sales&amp;#93; WITH DEFAULT_SCHEMA=&amp;#91;Sales&amp;#93;

2.  &amp;nbsp;
</code></pre>

<p>Last thing, I promise &#8230; In my first post, I included how the commands were rendering out in the SQL Server. I didn&#8217;t this time because this edition is more focused on a &#8220;getting things done in MVC&#8221; side of things.<br/>
Trust me, I am a DBA first ( and I imagine some of my code probably shows it) and I am still profiling every single thing I do with Massive looking for problems.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/archives/getting-started-with-massive-in-mvc3/">Getting Started With Massive in MVC3</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-18T00:00:00-06:00" pubdate data-updated="true">Feb 18<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p><a href="http://blog.wekeroad.com/">Rob Conery</a> has created a new ORM of sorts   and as a DBA, I must say I like what I see so far.</p>

<p>Getting started:  So some of you might be noob programmers like myself and after adding Massive to your MVC application via Nuget you become lost in space because it doesn&#8217;t work.  The fix to this is rather easy,  just check the properties of the  Massive.cs file and make sure its build action is set to Compile&#8230; you might want to change the namespace as well depending on how picky you are with namespace juggling.</p>

<p>We DBA&#8217;s are a particularly picky bunch and one of the things we hate about ORM&#8217;s  is something called &#8216;plan cache poisoning&#8217;.  Want to know why your DBA hated Linq to SQL until  .NET 4 came out?  One of the reasons is &#8216;plan cache poisoning&#8217;  which I will call PCP for short.   When you make a query to the database SQL Server compiles the that query into a plan so that the next time you go to run  it&#8230; it doesn&#8217;t have to compile a new plan&#8230; it just pulls from its cache.  When it comes to  linq-sql and EF before  .net 4&#8230;.  they would pass a new string length depending upon the size of the string you are looking for.  So, if you have a table of contacts and want to pull someone up by first name&#8230;  it would compile a plan for &#8216;Rob&#8217;, a plan for &#8216;Robert&#8217;,  a plan for &#8216;Mike&#8217; and so forth until you have exhausted all the different name lengths.    This sucks.   With Massive your  DBA won&#8217;t wake up in cold sweats thinking about his beloved plan cache because of your ORM.</p>

<p>To make  basic call with Massive on a Drinks Table (DrinkID, DrinkName) we do this:</p>

<pre><code>1.  var table = [new][2] Drinks&amp;#40;&amp;#41;;

2.  var drinks = table.All&amp;#40;&amp;#41;;
</code></pre>

<p>If you have done any Linq or EF you know that even a basic call like that is going to cause Linq or EF to create<br/>
the ugliest looking t-sql it can by breaking out into extent aliases God knows what else it likes to do to say &#8216;hey look at me&#8217;<br/>
Does Massive have this problem? Nope, looking at profiler we get straight forward SQL -</p>

<pre><code>1.  SELECT * FROM DRINKS
</code></pre>

<p>Well, that&#8217;s cool and all if you want to start barfing out tables into your app, but how often to get to exercise such negligence?<br/>
Rarely, so lets move to some conditions&#8230; lets look up a drink name:</p>

<pre><code>1.  var table = [new][2] Drinks&amp;#40;&amp;#41;;

2.  var drinks = table.All&amp;#40;where: "WHERE DrinkName=@0", args: "Fire Rock Pale Ale"&amp;#41;;
</code></pre>

<p>Knowing EF, we&#8217;re likely going to have 15 lines of aliases and subqueries to run this most complicated of queries..<br/>
In Massive, we get:</p>

<pre><code>1.  EXEC SP_EXECUTESQL N'SELECT * FROM Drinks WHERE DrinkName=@0',N'@0 nvarchar(4000)',@=N'Fire Rock Pale Ale'
</code></pre>

<p>In addition to a simple to grok TSQL, we also start getting reusable query plans.</p>

<p>More examples to come as I start to peel back the covers a bit on this new tool.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/archives/security-and-code-analysis-tools-i-use/">Security and Code Analysis Tools I Use</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-23T00:00:00-06:00" pubdate data-updated="true">Jan 23<span>rd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>Here are some of the tools I use for Security and Code analysis  (I bet you didn&#8217;t see that coming from!)</p>

<p>WebConfig Analyzer - you can do a stand alone download and feed your webconfig into it</p>

<p><a href="http://www.wireshark.org/">WireShark</a> Use this to see what is going on on the network.</p>

<p><a href="http://www.fiddler2.com/fiddler2/">Fiddler </a>- Great for https inspection.</p>

<p><a href="http://www.mavitunasecurity.com/communityedition/">Netsparker</a> Use it to hit test sites and see if throws back anything useful.</p>

<p><a href="http://www.backtrack-linux.org/">BackTrack 4</a> Not sure what needs to be said here other than the best way to get a white hat, is to take a black hat and bleach it.</p>

<p><a href="http://www.microsoft.com/downloads/en/details.aspx?FamilyID=917023f6-d5b7-41bb-bbc0-411a7d66cf3c">FXCop</a> I tun this against my code when I want to feel stupid and see how many places I&#8217;ve goofed.  Things putting getters and setters on read only data. Doh!</p>

<p><a href="http://www.red-gate.com/products/dotnet-development/reflector/">Reflector</a> Other peoples code and programs look pretty fun when uncompiled. Likewise, this is also good for making sure you didn&#8217;t leave any sensitive information in your own binaries.</p>

<p>FireFox add-ons:</p>

<p><a href="https://addons.mozilla.org/en-US/firefox/addon/viewstate-size/">ViewState</a></p>

<p><a href="http://getfirebug.com/">FireBug</a></p>

<p>And then everything else that SnipeyHead (<a href="http://www.snipe.net/">Blog</a> | <a href="http://twitter.com/#!/snipeyhead">Twitter</a>) uses:</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/4/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
	<a href="/"><img src="http://static.datachomp.com/datachomp.png" width="236" height="236" alt="Data Eating Alligator" /></a><br/>
	<a href="http://tekpub.com/productions/pg"><img src="http://static.datachomp.com/pg_thumb.png" alt="Tekpub" width=120 height=80 /></a>
	<br/>
	<a href="http://tekpub.com/productions/ft_sullivan"><img src="http://static.datachomp.com/ft_sullivan_thumb.png" alt="Tekpub" /></a>
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/archives/quickly-migrate-a-db-from-mysql-to-postgres/">Quickly Migrate A DB From MySQL To Postgres</a>
      </li>
    
      <li class="post">
        <a href="/archives/more-nerdy-hipchat-emoticons/">More Nerdy Hipchat Emoticons</a>
      </li>
    
      <li class="post">
        <a href="/archives/top-10-reasons-i-like-postgres-over-sql-server/">Top 10 Reasons I like Postgres Over SQL Server</a>
      </li>
    
      <li class="post">
        <a href="/archives/so-long-and-thanks-for-all-the-deadlocks/">So Long and Thanks For All The Deadlocks</a>
      </li>
    
      <li class="post">
        <a href="/archives/later-wordpress/">Later Wordpress</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Rob Sullivan -
  <span class="credit">Served by <a href="http://octopress.org">Octopress</a> and Github</span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'datachomp';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
